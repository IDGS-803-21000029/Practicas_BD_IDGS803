{% extends 'layout.html' %}

{% block content %}

{% from "_macros.html" import render_field %}
<div class="container">
    <form class="form-inline" name="registro" action="/pedidos" id="registro" method="POST">
        <!-- Encabezado en una "tarjeta" simulada -->
        <div class="well">
            <h2>Información del Pedido</h2>
            <div class="row-fluid">
                <!-- Primera fila con dos inputs -->
                <div class="span6">
                    <div class="control-group">
                        {{ render_field(form.nombreCliente, class="input-xlarge") }}
                    </div>
                </div>
                <div class="span6">
                    <div class="control-group">
                        {{ render_field(form.direccionEnvio, class="input-xlarge") }}
                    </div>
                </div>
            </div>
            
            <div class="row-fluid">
                <!-- Segunda fila con dos inputs -->
                <div class="span4">
                    <div class="control-group">
                        {{ render_field(form.telefono, class="input-xlarge") }}
                    </div>
                </div>
                <div class="span4">
                    <div class="control-group">
                        {{ render_field(form.fechaPedido, class="input-xlarge") }}
                    </div>
                </div>
                <div class="span4">
                    <div class="control-group">
                        {{ render_field(form.total, class="input-xlarge") }}
                    </div>
                </div>
            </div>

            <div class="span6" style="display: none;">
                <div class="control-group">
                    {{ render_field(form.pizzas, class="input-xlarge") }}
                </div>
            </div>
        </div>
        
        <!-- Tarjeta simulada para el pedido de pizzas -->
        <div class="well">
            <h2>Detalle de Pizzas</h2>
            <div class="row-fluid">
                <!-- Formulario de pizzas -->
                <div class="span6">
                    <div class="control-group">
                        {{ render_field(form.tamanioPizza, class="input-large") }}
                    </div>
                    <div class="control-group">
                        {{ render_field(form.pina, class="input-large") }}
                    </div>
                    <div class="control-group">
                        {{ render_field(form.jamon, class="input-large") }}
                    </div>
                    <div class="control-group">
                        {{ render_field(form.champin, class="input-large") }}
                    </div>
                    <div class="control-group">
                        {{ render_field(form.salchicha, class="input-large") }}
                    </div>
                    <div class="control-group">
                        {{ render_field(form.numPizzas, class="input-large") }}
                    </div>

                    
                    <br>
                    <div class="control-group">
                        <button type="button" class="btn btn-primary" id="btnAddPizza" onclick="addPizza();">Agregar Pizza</button>
                    </div>
                </div>

                <!-- Espacio para la tabla de pizzas -->
                <div class="span6">
                    <!-- Aquí va tu tabla de pizzas -->
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Tamaño</th>
                                <th>Ingredientes</th>
                                <th>Cantidad</th>
                                <th>Subtotal</th>
                                <th>Eliminar</th>
                            </tr>
                        </thead>
                        <tbody id="tblPizzas">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Botones de acción -->
        <div class="control-group">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
            <button type="submit" class="btn btn-primary" id="registrar" name="registrar">Registrar Pedido</button>
        </div>
    </form>
</div>

<script src="{{ url_for('static', filename='js/controller_pedido.js') }}"></script>

{% endblock %}
